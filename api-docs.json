{"openapi":"3.0.1","info":{"title":"API менеджера задач","description":"API для управлениями задачами","version":"1.0"},"servers":[{"url":"http://localhost:8080","description":"Generated server url"}],"paths":{"/api/tasks/{taskId}":{"put":{"tags":["task-controller"],"summary":"Изменение существующей задачи","operationId":"updateTask","parameters":[{"name":"taskId","in":"query","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateTaskDto"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TaskWithTagsDTO"}}}}}},"delete":{"tags":["task-controller"],"summary":"Удаление задачи по идентификатору","operationId":"deleteTask","parameters":[{"name":"taskId","in":"query","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}},"/api/tags/{tagId}":{"put":{"tags":["tag-controller"],"summary":"Изменение существующего тега","operationId":"updateTag","parameters":[{"name":"tagId","in":"query","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateTagDto"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TagWithTasksDTO"}}}}}},"delete":{"tags":["tag-controller"],"summary":"Удаление тега по идентификатору (вместе с его задачами)","operationId":"deleteTag","parameters":[{"name":"tagId","in":"query","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}},"/api/tasks":{"post":{"tags":["task-controller"],"summary":"Создание новой задачи","operationId":"createTask","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateTaskDto"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TaskWithTagsDTO"}}}}}}},"/api/tasks/{taskId}/attachment":{"post":{"tags":["attachment-controller"],"summary":"Загрузка файла-вложения для задачи","operationId":"uploadAttachment","parameters":[{"name":"taskId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"multipart/form-data":{"schema":{"required":["file"],"type":"object","properties":{"file":{"type":"string","format":"binary"}}}}}},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"string"}}}}}},"delete":{"tags":["attachment-controller"],"operationId":"deleteAttachment","parameters":[{"name":"taskId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}},"/api/tags":{"post":{"tags":["tag-controller"],"summary":"Создание нового тега","operationId":"createTag","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateTagDto"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TagWithTasksDTO"}}}}}}},"/api/tasks/{taskId}/attachment/download":{"get":{"tags":["attachment-controller"],"summary":"Получение файла-вложения по идентификатору задачи","operationId":"downloadAttachment","parameters":[{"name":"taskId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"string","format":"binary"}},"application/octet-stream":{"schema":{"type":"string","format":"binary"}}}}}}},"/api/tasks/by-date":{"get":{"tags":["task-controller"],"summary":"Получение списка задач за заданную дату с сортировкой по уровню приоритета с пагинацией","operationId":"getTasksByDateWithPrioritySort","parameters":[{"name":"date","in":"query","required":true,"schema":{"type":"string","format":"date"}},{"name":"pagination","in":"query","required":true,"schema":{"$ref":"#/components/schemas/PaginationParams"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PageTaskWithTagsDTO"}}}}}}},"/api/task-types":{"get":{"tags":["task-type-controller"],"operationId":"getTaskTypes","responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"uniqueItems":true,"type":"array","items":{"$ref":"#/components/schemas/TaskTypeNoTasksDto"}}}}}}}},"/api/tags/{id}/tasks":{"get":{"tags":["tag-controller"],"summary":"Получение тега по идентификатору с задачами, сортированными по приоритету","operationId":"getTagWithSortedTasks","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TagWithTasksDTO"}}}}}}},"/api/tags/with-tasks":{"get":{"tags":["tag-controller"],"summary":"Получение всех тегов, у которых есть задачи","operationId":"getTagsWithTasks","responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"uniqueItems":true,"type":"array","items":{"$ref":"#/components/schemas/TagNoTasksDTO"}}}}}}}}},"components":{"schemas":{"CreateShortTagDto":{"required":["title"],"type":"object","properties":{"title":{"type":"string","description":"Обязательное не пустое название"}},"description":"DTO для создания тегов без связей, опционально используется в создании задачи"},"UpdateTaskDto":{"required":["description","title"],"type":"object","properties":{"title":{"type":"string","description":"Опциональное не пустое название"},"typeId":{"type":"integer","description":"Опциональный тип","format":"int64"},"description":{"type":"string","description":"Опциональное не пустое описание"},"dueDate":{"type":"string","description":"Опциональная дата не в прошлом","format":"date"},"tagsToAddIds":{"uniqueItems":true,"type":"array","description":"Опциональный набор айди тегов","items":{"type":"integer","description":"Опциональный набор айди тегов","format":"int64"}},"newTagsToAdd":{"uniqueItems":true,"type":"array","description":"Опциональный набор dto тегов без связей","items":{"$ref":"#/components/schemas/CreateShortTagDto"}},"tagsToRemoveIds":{"uniqueItems":true,"type":"array","description":"Опциональный набор айди тегов","items":{"type":"integer","description":"Опциональный набор айди тегов","format":"int64"}}},"description":"DTO для обновления задачи. Необходимо передать хотя бы одно поле для обновления Опционально возможно прикрепить: существующие теги через набор айди, новые теги, передав набор DTO создания тега без связей. Открепить теги, передав набор айди"},"TagNoTasksDTO":{"required":["id","title"],"type":"object","properties":{"id":{"type":"integer","format":"int64"},"title":{"type":"string"}},"description":"Тег без отображения прикрепленных к нему задач"},"TaskTypeNoTasksDto":{"required":["code","id","priority"],"type":"object","properties":{"id":{"type":"integer","format":"int64"},"code":{"type":"string"},"priority":{"type":"integer","format":"int32"},"description":{"type":"string"}},"description":"Подробное описание типа задач"},"TaskWithTagsDTO":{"required":["description","dueDate","id","tags","title","type"],"type":"object","properties":{"id":{"type":"integer","format":"int64"},"title":{"type":"string"},"type":{"$ref":"#/components/schemas/TaskTypeNoTasksDto"},"description":{"type":"string"},"dueDate":{"type":"string","format":"date"},"tags":{"uniqueItems":true,"type":"array","items":{"$ref":"#/components/schemas/TagNoTasksDTO"}}},"description":"Задача с отображением прикрепленных к ней тегов, и типом"},"CreateShortTaskDto":{"required":["description","dueDate","title","typeId"],"type":"object","properties":{"title":{"type":"string","description":"Обязательное не пустое название"},"typeId":{"type":"integer","description":"Обязательный тип задачи","format":"int64"},"description":{"type":"string","description":"Обязательное не пустое описание"},"dueDate":{"type":"string","description":"Обязательная дата, не может быть в прошлом","format":"date"}},"description":"DTO для создания задачи без связей, опционально используется в создании тега"},"UpdateTagDto":{"required":["title"],"type":"object","properties":{"title":{"type":"string","description":"Опциональное не пустое название"},"tasksToAddIds":{"uniqueItems":true,"type":"array","description":"Опциональный набор айди задач","items":{"type":"integer","description":"Опциональный набор айди задач","format":"int64"}},"newTasksToAdd":{"uniqueItems":true,"type":"array","description":"Опциональный набор dto задач без связей","items":{"$ref":"#/components/schemas/CreateShortTaskDto"}},"tasksToRemoveIds":{"uniqueItems":true,"type":"array","description":"Опциональный набор айди задач","items":{"type":"integer","description":"Опциональный набор айди задач","format":"int64"}}},"description":"DTO для обновления тега. Необходимо передать хотя бы одно поле для обновления Опционально возможно прикрепить: существующие задачи через набор айди, новые задачи, передав набор DTO создания задачи без связей. Открепить задачи, передав набор айди"},"TagWithTasksDTO":{"required":["id","tasks","title"],"type":"object","properties":{"id":{"type":"integer","format":"int64"},"title":{"type":"string"},"tasks":{"uniqueItems":true,"type":"array","items":{"$ref":"#/components/schemas/TaskNoTagsDTO"}}},"description":"Тэг с отображением прикрепленных к нему задач"},"TaskNoTagsDTO":{"required":["description","dueDate","id","title","type"],"type":"object","properties":{"id":{"type":"integer","format":"int64"},"title":{"type":"string"},"type":{"$ref":"#/components/schemas/TaskTypeNoTasksDto"},"description":{"type":"string"},"dueDate":{"type":"string","format":"date"}},"description":"Задача без отображения прикрепленных к ней тегов"},"CreateTaskDto":{"required":["description","dueDate","title","typeId"],"type":"object","properties":{"title":{"type":"string","description":"Обязательное не пустое название"},"typeId":{"type":"integer","description":"Обязательный тип задачи","format":"int64"},"description":{"type":"string","description":"Обязательное не пустое описание"},"dueDate":{"type":"string","description":"Обязательная дата, не может быть в прошлом","format":"date"},"existingTagIds":{"uniqueItems":true,"type":"array","description":"Опциональный набор айди тегов","items":{"type":"integer","description":"Опциональный набор айди тегов","format":"int64"}},"newTags":{"uniqueItems":true,"type":"array","description":"Опциональный набор dto тегов без связей","items":{"$ref":"#/components/schemas/CreateShortTagDto"}}},"description":"DTO для создания задачи. Опционально возможно прикрепить: существующие теги через набор айди, новые теги, передав набор DTO создания тегов без связей"},"CreateTagDto":{"required":["title"],"type":"object","properties":{"title":{"type":"string","description":"Обязательное не пустое название"},"existingTaskIds":{"uniqueItems":true,"type":"array","description":"Опциональный набор айди задач","items":{"type":"integer","description":"Опциональный набор айди задач","format":"int64"}},"newTasks":{"uniqueItems":true,"type":"array","description":"Опциональный набор dto задач без связей","items":{"$ref":"#/components/schemas/CreateShortTaskDto"}}},"description":"DTO для создания тега. Опционально возможно прикрепить: существующие задачи через набор айди, новые задачи, передав набор DTO создания задачи без связей"},"PaginationParams":{"required":["page","size","sort"],"type":"object","properties":{"page":{"minimum":0,"type":"integer","format":"int32"},"size":{"type":"integer","format":"int32"},"sort":{"pattern":"asc|desc","type":"string"}}},"PageTaskWithTagsDTO":{"type":"object","properties":{"totalElements":{"type":"integer","format":"int64"},"totalPages":{"type":"integer","format":"int32"},"size":{"type":"integer","format":"int32"},"content":{"type":"array","items":{"$ref":"#/components/schemas/TaskWithTagsDTO"}},"number":{"type":"integer","format":"int32"},"sort":{"$ref":"#/components/schemas/SortObject"},"pageable":{"$ref":"#/components/schemas/PageableObject"},"numberOfElements":{"type":"integer","format":"int32"},"first":{"type":"boolean"},"last":{"type":"boolean"},"empty":{"type":"boolean"}}},"PageableObject":{"type":"object","properties":{"offset":{"type":"integer","format":"int64"},"sort":{"$ref":"#/components/schemas/SortObject"},"pageNumber":{"type":"integer","format":"int32"},"pageSize":{"type":"integer","format":"int32"},"paged":{"type":"boolean"},"unpaged":{"type":"boolean"}}},"SortObject":{"type":"object","properties":{"empty":{"type":"boolean"},"sorted":{"type":"boolean"},"unsorted":{"type":"boolean"}}}}}}